# 버전을 되돌리고 나누어 관리하자

## git으로 되돌리자

깃으로 할 수 있는 것들?
1. 코드 저장(백업) - git add, commit, push
2. 과거 조회, 되돌리기
3. 협업


add -> working directory --> staging area 지금까지 수정한 것들 중 어떤 게 버젼이 될까?
commit: repository --> 하나의 버전이 됨


워킹 디렉토리, 스테이징 에어리어, 레파지토리에 올린 건 어떻게 취소할 수 있을까

$ git reset 

어디까지 되돌릴까는 옵션을 통해 조절 가능하다

```shell
git reset --hard HEAD^ : 수정내역까지 통쨰로 되돌림
git reset --mixed HEAD^ : staging area에 있는 것까지 되돌림 (default)
git reset --soft HEAD^  : commit 한 것만 되돌린다.
```

HEAD : 가장 최근 버전

^ 하나 되돌려라

```
git reset HEAD^ : 가장 최근 커밋으로부터 하나 전 되돌려라
git reset HEAD^^ : 가장 최근 커밋으로부터 두 개 전 되돌려라
git reset HEAD^^^ : 가장 최근 커밋으로부터 세 개 전 되돌려라
```

## reset 실습

git init 

이 디렉토리를 이제 버젼 관리를 하겠다.

git status

버전 상태 확인

git add 파일.이름

워킹 디렉토리 -> 스테이증 에어리어

git commit -m "commit message"

스테이징 에어리어 -> local repository




내용 수정

커밋 (두번째 버전 저장)

내용 수정

저장 (워킹 디렉토리)

add (staging area 에 저장)

내용 수정

저장 (워킹 디렉토리에 저장)


하드모드 reset 

좀 위험하지만 제대로만 이해하면 가장 유용함

git reset --hard HEAD^ 

레파지토리, 스테이징 에어리어, 작업 공간까지 하나씩 날아감

git reset --mixed HEAD^ 
git reset MEAD^

커밋 날아감, 스테이징 에어리어 날아감, 작업공간 살아있음

git reset --soft HEAD^

커밋 날아감, 스테이징 에어리어 살아있음, 작업공간 살아있음

+++
git diff
git revert
git log

## 나누어 관리하자

브랜치와 협업의 원리

branch의 필요성, git을 이용한 협업의 원리, branch를 다루는 방법

협업 때 

브랜치가 필요할 때는 둘이 작업한 코드를 합칠 때 어디가 겹치는지를 한 번에 확인 가능하고

혹시나 여러 개의 커밋 중 특정 부분을 삭제할 때, 다른 부분에는 영향이 가지 않게 하려면 브랜치가 필요하다.

1. 작업 단위를 나누고, 
2. 각자 작업하고, 
3. 합친다.


작업단위 (브랜치)

작업 단위를 브랜치로 나누고, 작업을 맡은 각자는 해당 브랜치에서만 작업한 뒤 기존 코드에 모드 합치고, 충돌되는 곳만 확인해서 처리한다.